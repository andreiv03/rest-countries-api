(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5186:e=>{e.exports={country_list:"country-list_country_list__YbiW8",country:"country-list_country__Cgrhk",image:"country-list_image__6bxnB",informations:"country-list_informations__hn_pF"}},5268:e=>{e.exports={filters:"filters_filters__cxV00",search:"filters_search__BW1GD"}},7798:e=>{e.exports={select_input:"select-input_select_input__TMjjt",options:"select-input_options__bEZHc",option:"select-input_option__Uuxci"}},8009:(e,t,i)=>{"use strict";i.d(t,{default:()=>v});var n=i(5155),s=i(6766),r=i(2115),a=i(3347),l=i(760),o=i(2243),c=i(7798),u=i.n(c);let d=e=>{let{option:t,setOption:i,placeholder:s,options:c}=e,[d,p]=(0,r.useState)(!1),h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.jsxs)("div",{className:u().select_input,onClick:()=>p(!d),ref:h,children:[(0,n.jsxs)("button",{type:"button",children:[(0,n.jsx)("span",{children:t||s}),(0,n.jsx)(a.O9s,{})]}),(0,n.jsx)(l.N,{children:d&&(0,n.jsx)(o.P.div,{className:u().options,initial:"initial",animate:"animate",exit:"exit",variants:{initial:{height:0},animate:{height:"auto",transition:{duration:.2,ease:"easeOut"}},exit:{height:0,transition:{duration:.2,ease:"easeIn"}}},children:c.map((e,s)=>(0,n.jsx)("div",{className:u().option,onClick:()=>(e=>{i(t===e?"":e)})(e),children:e},s))})})]})};var p=i(5268),h=i.n(p);let _=["Africa","Americas","Asia","Europe","Oceania"],m=(e,t)=>{switch(t.type){case"UPDATE_SEARCH":return{...e,search:t.payload.trim().toLowerCase()};case"UPDATE_REGION":return{...e,region:t.payload};case"LOAD_MORE":return{...e,visibleCount:t.payload};default:return e}};function x(e){let{state:t,dispatch:i}=e;return(0,n.jsxs)("div",{className:h().filters,children:[(0,n.jsxs)("div",{className:h().search,children:[(0,n.jsx)(a.uBk,{}),(0,n.jsx)("input",{autoComplete:"off",onChange:e=>{i({type:"UPDATE_SEARCH",payload:e.target.value}),i({type:"LOAD_MORE",payload:20})},placeholder:"Search for a country...",type:"text"})]}),(0,n.jsx)(d,{option:t.region,setOption:e=>{i({type:"UPDATE_REGION",payload:e}),i({type:"LOAD_MORE",payload:20})},placeholder:"Filter by region",options:_})]})}var f=i(5186),j=i.n(f);function v(e){let{countries:t}=e,[i,a]=(0,r.useReducer)(m,{search:"",region:"",visibleCount:20}),l=(0,r.useRef)(null),o=(0,r.useMemo)(()=>t.filter(e=>{let t=["official","common"].some(t=>e.name[t].toLowerCase().includes(i.search)),n=!i.region||e.region===i.region;return t&&n}),[t,i.search,i.region]);return(0,r.useEffect)(()=>{let e=new IntersectionObserver(e=>{let t=e[0];(null==t?void 0:t.isIntersecting)&&a({type:"LOAD_MORE",payload:i.visibleCount+20})},{threshold:1});return l.current&&e.observe(l.current),()=>{e.disconnect()}},[i.visibleCount]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{state:i,dispatch:a}),(0,n.jsx)("div",{className:j().country_list,children:o.slice(0,i.visibleCount).map((e,t)=>{let i;return(0,n.jsxs)("div",{className:j().country,children:[(0,n.jsx)("div",{className:j().image,children:(0,n.jsx)(s.default,{alt:e.name.official,src:e.flags.png,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:"lazy"})}),(0,n.jsxs)("div",{className:j().informations,children:[(0,n.jsx)("h2",{children:e.name.official}),(0,n.jsxs)("h3",{children:["Population: ",(0,n.jsx)("span",{children:e.population.toLocaleString("en-US")})]}),(0,n.jsxs)("h3",{children:["Region: ",(0,n.jsx)("span",{children:e.region})]}),(0,n.jsxs)("h3",{children:["Capital: ",(0,n.jsx)("span",{children:(i=e.capital)&&i.length?i.join(", "):"N/A"})]})]})]},t)})}),(0,n.jsx)("div",{className:j().load_more,ref:l})]})}},9014:(e,t,i)=>{Promise.resolve().then(i.bind(i,8009))}},e=>{e.O(0,[835,204,202,441,964,358],()=>e(e.s=9014)),_N_E=e.O()}]);